<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1074px" height="562px" viewBox="-0.5 -0.5 1074 562" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-05T19:25:30.109Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36&quot; etag=&quot;N0oZTIgLrU2V9gGyG-3G&quot; version=&quot;16.5.2&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;_JDElGso5evol1hJ57jX&quot; name=&quot;Page-1&quot;&gt;7Vtrb+I4FP01SHSlVnny+AhpuzNdqu0MlWb308glBrx1YtYxBebX703ivHBo6ANCt6mQim/sxL7n+tybk9AyHW/9O0eL+S1zMW0ZmrtumZctw9Ctngn/QssmtnR7emyYceLKTplhTH5hadSkdUlcHBQ6CsaoIIuiccJ8H09EwYY4Z6titymjxasu0AwrhvEEUdX6g7hiHlt7Rjezf8FkNk+urHf68REPJZ3lSoI5ctkqZzKvWqbDGRPxN2/tYBo6L/FLPO56x9F0Yhz7Yp8BDp3ypTPsm93gZiD+nZl4dHOuy3UEYpOsGLvgANlkXMzZjPmIXmXWIWdL38XhaTVoZX1GjC3AqIPxHyzERqKJloKBaS48Ko/CjPnmr3D8hW2aieHv/NHLtTx93NrkW3eYEw8LzFOjOwihhqbPfBxbrgml2XE5FSM8fyA4e0zRDC2xD8KF7/StNAVsySeyl21NV3eT9fWNQ93Z9+XkD+/p23kSo4jPsHimn9FJQwD2DmawHr6BgRxTJMhTcSJIBvEs7ZfhDF8k1OWwPzfLJ0SX8krO6KsSCcGKeBRFDp0yXyRBEbp0MifUHaENW4aLDASaPCat4Zxx8gv6owRuOMyFRMDUCj3G4Uh5To4D6HOXOF3fMt2idaHjCAUimQ2jFC0C8hDNLxzogf+JP2RCME922onpE+YCr3MmFRV5tCu3suQyQ5PtVcYMuiVt8zwr2NqBgDQUIDlGbvsMbOctozMT0cIBVK6gC2sW6W5wGGU82z9T2DxbJkTJzIcmxdNwWOg0AjQ5kGaPuG5EDsECTYg/G0XdLq3M8l36IzQxGD6l0Y6dw0AMZxguGPFF5B97CB/wmAP00LJhrg609awNn7A7Fw7zYfqIRIBiiIcVDmMCCEoggR7SaFWhf3ZXVMeDDABzT/zNQ8FvKvCvOBG4DV45awB/f8A7dQNuKYBDmvkJPsHIa4vNAjc7/yiB0K87EDpKIATFQAh9F8HfEMEB8NeNIwZAeeWuK7h+6MrdJchjvns/J36hgC+v2LdK+ncs4HsfooDvKdt/hNdYpfqmhN8q4S37lTV851BM3leg9IGfZQlXyOX3sAn8lNcbWq+k9d7e0VFDQV/O6v16WP2EBBTzjbwqh96F0Zfte9so7vsU1uQUMeHLURmK4Be0yXWTQb3zOl3dLr1OFhTxGbMQSdf4BjlHvQ90mOch3wXeDZq0UJ0WOtYeacE+ZlrQ1Vu9RQhme0TAO/YwTgb25XaSGIzvm8xQXfCbe0fIM6mhLCAOlhoMq+6C/1jl/lHTjb1vva+Vh8eRBHtbYYMr/4lw5nuw5C/A9LSh+WqaN7aqf1OvneZVISdU9KJm2T1AU/jvRe/23pFxMvRu103vhpUneO2i3+v/X0h+b1HHqpXkVVXnao0nAFpD7ZXU3u1WU7vRNY9J7aqygyM48c/p0p8Iwvx2ROehoPMbOCXYJvvozjI8OtwI/PXP4vcmCVQlgfeQf0pD5nBJQFNw/WTyzy6E3ij/mEa5LFMl/7yXQpPyWcYF4+VDIIgAOmjI/aV1e/3yTLJTc4C6mONpU7O/lq5fEBUnU7PX9Az2hOj6Y6v1fc0ovc5B1XpDVesH4/sfiD42Ek51KkhfvT6dVKAq9bLObwOuZy3HaA3Uuq5JADv3xUkmgPIpq7LsLfij2cWVr2Eoz9vq3sSqDsuXfrt5eW6PffsBxdZOzYXbm5TRnGhr9Tp50Va/0IzU8BLR9nUlYalvpepVqbXG8ti7l459Tb/o5/56BZ4xewe773/OGTlWuZbSX/CZHtop1FASWruV3X6x4rNKkkX6e8H3Thblb2mpN//hQ7u8qrutAQDn04haP30+qYiF3dvoRbJtWTy8Ip1AM/uFZkwK2e9czav/AA==&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-54-260-132-30-0"><rect x="54" y="260" width="132" height="30"/></clipPath><clipPath id="mx-clip-54-290-132-30-0"><rect x="54" y="290" width="132" height="30"/></clipPath><clipPath id="mx-clip-54-320-132-30-0"><rect x="54" y="320" width="132" height="30"/></clipPath><clipPath id="mx-clip-54-350-132-30-0"><rect x="54" y="350" width="132" height="30"/></clipPath><clipPath id="mx-clip-434-260-132-30-0"><rect x="434" y="260" width="132" height="30"/></clipPath><clipPath id="mx-clip-624-260-142-30-0"><rect x="624" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-234-370-142-30-0"><rect x="234" y="370" width="142" height="30"/></clipPath><clipPath id="mx-clip-754-370-265-30-0"><rect x="754" y="370" width="265" height="30"/></clipPath><clipPath id="mx-clip-234-260-142-30-0"><rect x="234" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-811-260-142-30-0"><rect x="811" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-424-80-142-30-0"><rect x="424" y="80" width="142" height="30"/></clipPath><clipPath id="mx-clip-781-480-202-30-0"><rect x="781" y="480" width="202" height="30"/></clipPath></defs><g><path d="M 120 230 L 120 170 L 500 170 L 499.95 110" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 50 260 L 50 230 L 190 230 L 190 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 260 L 50 380 L 190 380 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 50 260 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="119.5" y="249.5">CLI</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-260-132-30-0)" font-size="12px"><text x="55.5" y="279.5">read() -&gt; str</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-290-132-30-0)" font-size="12px"><text x="55.5" y="309.5">write(str)</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-320-132-30-0)" font-size="12px"><text x="55.5" y="339.5">get_stream(type) -&gt; str</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-350-132-30-0)" font-size="12px"><text x="55.5" y="369.5">set_stream(type, str)</text></g><path d="M 499.95 230 L 499.95 132.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 499.95 110.99 L 506.42 121.99 L 499.95 132.99 L 493.48 121.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 430 230 L 570 230 L 570 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 430 290 L 570 290 L 570 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 570 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="499.5" y="249.5">Lexer</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-434-260-132-30-0)" font-size="12px"><text x="435.5" y="279.5">next(str) -&gt; Token, str</text></g><path d="M 695 230 L 695 170 L 500 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 620 230 L 770 230 L 770 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 620 290 L 770 290 L 770 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 770 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="694.5" y="249.5">CommandParser</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-624-260-142-30-0)" font-size="12px"><text x="625.5" y="279.5">parse(List[Token]) -&gt; AST</text></g><path d="M 305 340 L 305 320 L 305 330 L 305 312.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 305 290.99 L 311.47 301.99 L 305 312.99 L 298.53 301.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 340 L 380 340 L 380 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 400 L 380 400 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="359.5">EnvironmentHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-370-142-30-0)" font-size="12px"><text x="235.5" y="389.5">get_value(str) -&gt; str</text></g><path d="M 886.57 340 L 886.57 320 L 886.34 312.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 885.63 290.66 L 892.45 301.44 L 886.34 312.64 L 879.52 301.86 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 750 340 L 1023 340 L 1023 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 750 400 L 1023 400 L 1023 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 1023 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="886" y="359.5">Executor</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-754-370-265-30-0)" font-size="12px"><text x="755.5" y="389.5">execute_function(str, *args) -&gt; int, ByteIO, ByteIO</text></g><path d="M 305 230 L 305 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 230 L 380 230 L 380 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 290 L 380 290 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="249.5">Substitute</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-260-142-30-0)" font-size="12px"><text x="235.5" y="279.5">deref(str) -&gt; str</text></g><path d="M 882 230 L 882 170 L 500 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 807 230 L 957 230 L 957 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 807 290 L 957 290 L 957 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 957 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="881.5" y="249.5">ASTWalker</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-811-260-142-30-0)" font-size="12px"><text x="812.5" y="279.5">execute(AST) </text></g><path d="M 420 80 L 420 50 L 570 50 L 570 80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 80 L 420 110 L 570 110 L 570 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 80 L 570 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="494.5" y="69.5">Main</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-424-80-142-30-0)" font-size="12px"><text x="425.5" y="99.5">run()</text></g><path d="M 882 450 L 882 430 L 882.14 423.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 882.66 401.77 L 888.87 412.91 L 882.14 423.76 L 875.93 412.61 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 777 480 L 777 450 L 987 450 L 987 480" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 777 480 L 777 510 L 987 510 L 987 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 777 480 L 987 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="881.5" y="469.5">FunctionsHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-781-480-202-30-0)" font-size="12px"><text x="782.5" y="499.5">get_function(str) -&gt; callable</text></g></g></svg>