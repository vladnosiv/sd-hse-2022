<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1132px" height="582px" viewBox="-0.5 -0.5 1132 582" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-05T20:00:01.565Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36&quot; etag=&quot;o6tFC40qJjGhySWhWo88&quot; version=&quot;16.5.3&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;_JDElGso5evol1hJ57jX&quot; name=&quot;Page-1&quot;&gt;7Vttc6I6FP41zrh3pjsCovJRabsv187t1t7Z7aedVCLmNhA3xKr76+8BgoChQlvRdocZZ0oOJ7yc5+R5khPaMmxv/YmjxfyKOZi29I6zbhnnLV3X4Ad/QssmtvS63djgcuJIp9QwIb+xNHakdUkcHOQcBWNUkEXeOGW+j6ciZ0Ocs1XebcZo/q4L5GLFMJkiqlq/E0fMY+tA76f2z5i48+TOWs+Kz3gocZZvEsyRw1YZk3HRMmzOmIiPvLWNaRi8JC5xv8snzm4fjGNfVOlg0xlf2iPL6Adfh+KXa+Dx1zNNvkcgNskbYwcCIJuMizlzmY/oRWodcbb0HRxetgOt1GfM2AKMGhj/w0JsJJpoKRiY5sKj8iw8Md/8CPt/NA0jMdxlz56v5eXj1ibbusaceFhgvjU6wxBqaPrMx7HlklCanpePoofXDwRnD1s0Q4saShndgC35VMbF7M5W19P15VebOu7Ncvq39/jtLElJxF0s9vjpvdgxDG7mDhKpT5jB+/ANOHBMkSCP+exDMondrV+KMxxIqIth3/fYj4gu5Z3s8RclE4IV8SiKAjpjvkiSIgzpdE6oM0YbtgzfOhBo+pC0RnPGyW/wRwnccJoLiYDRyXlMwp7ymhwH4HOdoKDtmK7QOuc4RoFInoZRihYBuY+eL+zoASDEHzEhmCedngT5EXOB13tRkWf7cihLLtM7sr1KmUHrSts8wwpWpyYcdQVHjpHT/gC2s5bec0X03oApV8CFVxbbwWAzyng6fGYwdnZMiBLXhybFs7BbGDMCLDmUZo84TsQNwQJNie+OI7fzbmq5keEITQy6z2g0YOfQEcMVRgtGfBHFxxzBDyJmAzu0THhWG9pa2oZf6M6FzXx4fEQiPDGkwwqHKQH8JJBA99tkVZHfOyjK00Hib1SE36gLfkOBf8WJwG2IyocG8MMD3jsi4MVyrSmwvmu5dgjymO/czomfU+1imd7R8Zer9uB9qvZAGe5jvMYqtTe6vaPbXfOFwt2ri7ktBUof6FkSd067b2EQ+CElNjJejdUHlbPjBDJezOrWaVj9dKsm49C8Krteh9mXjntTz4/7LazJJWIFkL1SFCEuaJNxk0n95H36mll4nzQp4iumKbJ9x1es4dTZn808D/kO8G7QyEK5LPS6FWTBPKYsaF0F00UIZntMIDrmKBYD83xXJIaT20YZyuf7RuUM2SMNRQlRmzTo3VNP+I813a9Tbsyq8/3Om5rvJ8+dYYML/5Fw5nsQg8/A9LSh+XKa13dm/4Z2cprvKcBCYv6MmkVrgGbiX4nezcqZ8Wbo3Tw1vevdLMF3PloD652SfOWiTreWxcdz1wyWYeQnn9bO9t3z/GtaY6glp8ulPxWE+RdrPIXMavSnVH/6/XL9MYyj6o9afsIRnPjnTMLbjjQnrDqNNgJ/+Sc+/gsCFOyqU5Smu57JcaNaZap1iHpVYfrUp1odBdc/u16VONZdrzL04jpSWb3qUHS/5baUFybL+0AQAdTQEP1zFxqnryclIzUDqIM5njWLjJfS9TOy4s0sMk60afxKusZrIjI1KGjdJV3hOF2chI3NkyBWpvg/bEvC0q3C+9S6XNDVLYnh5PY7og9NnapcPrYfle6RD71jHFM+1O0IuU5oA67NOuCgwnKIzYnC9Kjt8zNdrU9fQTyakV76PYqy8XjqeaJakOZLv918RFhh3L7pqvPwbu5ib/Dv6OrmhyV+naH1ZHB2ovngSfcUU0R3Znil08XCObWcXJUWm+NK2xE2EPc9ZUH1Nmh2D6vOyow8V2+5Oyu7Wk1kXfy5mLqoD3cPs5Xb3akZcC6NqK3h80wu7B0zr5qGFeXDC+gcmun/h8WLtPS/7IyL/wE=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-54-260-132-30-0"><rect x="54" y="260" width="132" height="30"/></clipPath><clipPath id="mx-clip-54-290-132-30-0"><rect x="54" y="290" width="132" height="30"/></clipPath><clipPath id="mx-clip-434-260-132-30-0"><rect x="434" y="260" width="132" height="30"/></clipPath><clipPath id="mx-clip-624-260-142-30-0"><rect x="624" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-234-370-142-30-0"><rect x="234" y="370" width="142" height="30"/></clipPath><clipPath id="mx-clip-754-370-322-30-0"><rect x="754" y="370" width="322" height="30"/></clipPath><clipPath id="mx-clip-234-260-142-30-0"><rect x="234" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-811-260-195-30-0"><rect x="811" y="260" width="195" height="30"/></clipPath><clipPath id="mx-clip-424-80-142-30-0"><rect x="424" y="80" width="142" height="30"/></clipPath><clipPath id="mx-clip-814-500-202-30-0"><rect x="814" y="500" width="202" height="30"/></clipPath></defs><g><path d="M 120.06 230 L 120.06 170 L 500.06 170 L 499.95 110" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 50 260 L 50 230 L 190 230 L 190 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 260 L 50 320 L 190 320 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 50 260 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="119.5" y="249.5">CLI</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-260-132-30-0)" font-size="12px"><text x="55.5" y="279.5">read() -&gt; str</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-290-132-30-0)" font-size="12px"><text x="55.5" y="309.5">write(str)</text></g><path d="M 499.95 230 L 499.95 132.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 499.95 110.99 L 506.42 121.99 L 499.95 132.99 L 493.48 121.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 430 230 L 570 230 L 570 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 430 290 L 570 290 L 570 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 260 L 570 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="499.5" y="249.5">Lexer</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-434-260-132-30-0)" font-size="12px"><text x="435.5" y="279.5">next(str) -&gt; Token, str</text></g><path d="M 695 230 L 695 170 L 500 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 620 230 L 770 230 L 770 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 620 290 L 770 290 L 770 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 620 260 L 770 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="694.5" y="249.5">CommandParser</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-624-260-142-30-0)" font-size="12px"><text x="625.5" y="279.5">parse(List[Token]) -&gt; AST</text></g><path d="M 305 340 L 305 320 L 305 330 L 305 312.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 305 290.99 L 311.47 301.99 L 305 312.99 L 298.53 301.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 340 L 380 340 L 380 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 400 L 380 400 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="359.5">EnvironmentHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-370-142-30-0)" font-size="12px"><text x="235.5" y="389.5">get_value(str) -&gt; str</text></g><path d="M 913 340 L 913 320 L 913.09 312.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 913.36 290.66 L 919.7 301.73 L 913.09 312.65 L 906.75 301.58 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 750 340 L 1080 340 L 1080 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 750 400 L 1080 400 L 1080 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 750 370 L 1080 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="914.5" y="359.5">FunctionExecutor</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-754-370-322-30-0)" font-size="12px"><text x="755.5" y="389.5">execute_function(str, ByteIO, *args) -&gt; int, ByteIO, ByteIO</text></g><path d="M 305 230 L 305 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 230 L 380 230 L 380 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 290 L 380 290 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="249.5">Substitute</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-260-142-30-0)" font-size="12px"><text x="235.5" y="279.5">deref(str) -&gt; str</text></g><path d="M 908.5 230 L 908.53 170 L 500 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 807 230 L 1010 230 L 1010 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 807 290 L 1010 290 L 1010 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 807 260 L 1010 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="908" y="249.5">ASTWalker</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-811-260-195-30-0)" font-size="12px"><text x="812.5" y="279.5">execute(AST) -&gt; int, ByteIO, ByteIO</text></g><path d="M 420 80 L 420 50 L 570 50 L 570 80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 80 L 420 110 L 570 110 L 570 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 420 80 L 570 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="494.5" y="69.5">Main</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-424-80-142-30-0)" font-size="12px"><text x="425.5" y="99.5">run()</text></g><path d="M 915 470 L 915 421.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 915 400.99 L 921.18 411.49 L 915 421.99 L 908.82 411.49 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 500 L 810 470 L 1020 470 L 1020 500" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 500 L 810 530 L 1020 530 L 1020 500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 500 L 1020 500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="914.5" y="489.5">FunctionsHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-814-500-202-30-0)" font-size="12px"><text x="815.5" y="519.5">get_function(str) -&gt; callable</text></g></g></svg>