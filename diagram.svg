<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1034px" height="581px" viewBox="-0.5 -0.5 1034 581" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-06T19:36:53.382Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36&quot; etag=&quot;ijXsh8XYFLGQyV2x1MhX&quot; version=&quot;16.5.3&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;_JDElGso5evol1hJ57jX&quot; name=&quot;Page-1&quot;&gt;7Vttb6M4EP41kbontQIb8vIxSdt9S/e6TU+7vS+VGxzwLuCscZqkv/6GYAcINKFtXnoSUqXGwxjMzDPPjMdJA/eD+UdBJt4Vd6jfQIYzb+DzBkKmgdvwL5YsEolttRKBK5ijlFLBkD1RPVNJp8yhUU5Rcu5LNskLRzwM6UjmZEQIPsurjbmff+qEuLQgGI6IX5T+YI70EmkbtVL5J8pcTz/ZbHaSKwHRyupNIo84fJYR4YsG7gvOZfIpmPepHxtP2yWZd/nM1dXCBA1llQl9fyym/V4Ht6IvXfnHxXTw5dRU7xHJhX5j6oAB1JAL6XGXh8S/SKU9waehQ+PbGjBKdQacT0BogvAXlXKhvEmmkoPIk4GvrsKKxeJnPP/MxlgL7rJXz+fq9slokR1dU8ECKqlYCZ1u7GoYOowEPHRuPRYmFy6Znz5V4wvFw0gK/nvl1FhStKhGHBEulRrA49n1aH75pe877s109DV4/H6KmolibLvMTOWIj5TDcsUCFAT1iWSPeXARhVF3pbeaes0ZrAUZOp6axplht9sI26hjmWbHSu6gggsZRv6OEZ+KEVU3SbEB1iKLjNokVog2Pjb3HNNag9qavm1t1IcPyQr0KGOiVLSEbzmUS32gjPlI/Kkyb3/wuYDuaMYCn4QxjMc8lBroMYxGHvOdAVnwaezqSJLRbz3qeVywJ9AnGkxwWUgFJ2zkNIbxTHVPQSPQudaQMtdEV2SeUxyQSOrVcN8nk4g9LNcXTwwAhSzscSl5oJSeRewjFZLON0JRXW0Z5RCapWyn3Wd4GabrrEEtC96Mo1/uR1Two6DEOfkAstMGarpy+d7gU1FwLryyXEV2n/s8ZoiQJ94GIlgTEZ+5QBPnPh3H02KbMWD+rhIHzHGWfBdNyIiF7mCpdm6lkhtljljEYfrYX5KQBxNpzD8qrmBtdg/+wGJ9YLyGDWvtw9hMx/AXqwvZ5yEsn7ClPynAYUZjSADnSiLJwwqsRc9vDIrtcFD+xxXdj/flflxw/0wwSU/AKh9qh+/e4c0DOvy+OztFvafhN695c3/F0enoq6MdfrwKxEC5CuTMwAesQp5l8CR1b/B0u2JtYlq7rk3eFN/tQnwP6JwWubxO1GuJ2rLzmRqbJZHb2lPkLsbOw6+74b+me46nUfitiSxDZ+pDR+4qzBSrp/G10dJbA8rEhynibWSXVserWyQh/eaq/ThVeDF/93kQkNCBQIrqOK8Q580KFbldEufNfZVkOoNkfDqJnXniM7CO3buF4iuEima9RO8Ob+uKbXvFhisjZEONXgaIXRB/adcIWceu2d5/z2h7urErFnC6gfhOCji97gwbXISPTPAwABt8Aqb3a5rfTvOoSjl3WJpvFhwLwLxfDtX2u+7AvJze7crIeDf0bh+b3pGVJXjjrNPu/E9JvuouHe18l/6qPUMbN/PFZ2dzp3+L/p72GMUewuU0HEnGw4s5HQGy6vyzNf80W3hr/sH4oPmnU3ArXbqT3o+Ve0+WOQdub/QWkn7+O/n8FxgoWs9OS5iua+rPddbalrXalfH0fNYqhc/+spZR8Os7aEftMbdoxX33q/Ar+1W7ovsVt6W8MJw+RJJJoIaa6F+60Th+P0lHasahDhV0XG8yXkvXL0DFETYZpYcHZsGt74Gt50xmOkwwustcSbce8WDxrIsqE/jBDhzKDwJ2feDQxij/HFViPr95eKP+IQ40UPFAozu8/UH833WXa3vyaeHtyQcZ+JDJp3iYoXYZJ+DXehex07S0i6ONUnjs7etHqNjdvgJ71JH+8mPLY1eZxXa2mIYn9ZfIKsTtu+5Zd+88lwbtf3pXNz878s8pmQ/bxyonj3oiWbn6LO2XqG7b9u+PdXZdpb6pzVNsEureb1SfPVauyvK9X8sqSbvmnsi6/HcoxZZAfPaY7fuul2bAuf6S2mo+z2BhY8y8qQwrw8Mr6ByG6W+ekk1a+ssxfPEf&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-54-260-132-30-0"><rect x="54" y="260" width="132" height="30"/></clipPath><clipPath id="mx-clip-54-290-132-30-0"><rect x="54" y="290" width="132" height="30"/></clipPath><clipPath id="mx-clip-444-260-142-30-0"><rect x="444" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-234-370-142-30-0"><rect x="234" y="370" width="142" height="30"/></clipPath><clipPath id="mx-clip-657-370-322-30-0"><rect x="657" y="370" width="322" height="30"/></clipPath><clipPath id="mx-clip-234-260-142-30-0"><rect x="234" y="260" width="142" height="30"/></clipPath><clipPath id="mx-clip-714-260-195-30-0"><rect x="714" y="260" width="195" height="30"/></clipPath><clipPath id="mx-clip-444-80-142-30-0"><rect x="444" y="80" width="142" height="30"/></clipPath><clipPath id="mx-clip-717-500-202-30-0"><rect x="717" y="500" width="202" height="30"/></clipPath></defs><g><path d="M 140.06 230 L 140.1 170 L 520 170 L 519.97 132.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 519.95 110.99 L 526.43 121.98 L 519.97 132.99 L 513.49 121.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 260 L 50 230 L 190 230 L 190 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 260 L 50 320 L 190 320 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 50 260 L 190 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="119.5" y="249.5">CLI</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-260-132-30-0)" font-size="12px"><text x="55.5" y="279.5">read() -&gt; str</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-290-132-30-0)" font-size="12px"><text x="55.5" y="309.5">write(str)</text></g><path d="M 515 340 L 515 320 L 515.06 313.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 515.29 291.92 L 521.65 302.98 L 515.06 313.91 L 508.71 302.85 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 370 L 430 340 L 600 340 L 600 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 370 L 600 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="514.5" y="359.5">Lexer</text></g><path d="M 520 230 L 520 170 L 505 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 260 L 440 230 L 590 230 L 590 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 260 L 440 290 L 590 290 L 590 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 260 L 590 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="514.5" y="249.5">CommandParser</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-444-260-142-30-0)" font-size="12px"><text x="445.5" y="279.5">parse(list[Token]) -&gt; AST</text></g><path d="M 305 340 L 305 320 L 305 330 L 305 312.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 305 290.99 L 311.47 301.99 L 305 312.99 L 298.53 301.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 340 L 380 340 L 380 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 230 400 L 380 400 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 370 L 380 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="359.5">EnvironmentHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-370-142-30-0)" font-size="12px"><text x="235.5" y="389.5">get_value(str) -&gt; str</text></g><path d="M 816 340 L 816 320 L 816.09 312.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 816.36 290.66 L 822.7 301.73 L 816.09 312.65 L 809.75 301.58 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 653 370 L 653 340 L 983 340 L 983 370" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 653 370 L 653 400 L 983 400 L 983 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 653 370 L 983 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="817.5" y="359.5">FunctionExecutor</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-657-370-322-30-0)" font-size="12px"><text x="658.5" y="389.5">execute_function(str, ByteIO, *args) -&gt; int, ByteIO, ByteIO</text></g><path d="M 305 230 L 305 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 230 L 380 230 L 380 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 230 290 L 380 290 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 230 260 L 380 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="304.5" y="249.5">Substitute</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-234-260-142-30-0)" font-size="12px"><text x="235.5" y="279.5">deref(str) -&gt; str</text></g><path d="M 811.5 230 L 811.5 203 L 812 170 L 500 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 710 260 L 710 230 L 913 230 L 913 260" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 710 260 L 710 290 L 913 290 L 913 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 710 260 L 913 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="811" y="249.5">ASTWalker</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-714-260-195-30-0)" font-size="12px"><text x="715.5" y="279.5">execute(AST) -&gt; int, ByteIO, ByteIO</text></g><path d="M 440 80 L 440 50 L 590 50 L 590 80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 80 L 440 110 L 590 110 L 590 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 440 80 L 590 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="514.5" y="69.5">Main</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-444-80-142-30-0)" font-size="12px"><text x="445.5" y="99.5">run()</text></g><path d="M 818 470 L 818 421.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 818 400.99 L 824.18 411.49 L 818 421.99 L 811.82 411.49 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 713 500 L 713 470 L 923 470 L 923 500" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 713 500 L 713 530 L 923 530 L 923 500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 713 500 L 923 500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="817.5" y="489.5">FunctionsHandler</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-717-500-202-30-0)" font-size="12px"><text x="718.5" y="519.5">get_function(str) -&gt; callable</text></g></g></svg>